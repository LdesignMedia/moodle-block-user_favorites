function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)
/**
 * Tested in Moodle 3.5
 *
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 *
 * @copyright 2018 MFreak.nl
 * @author    Luuk Verhoeven
 **/}define("block_user_favorites/favorites",["jquery","core/ajax","core/notification","core/log"],(function($,Ajax,Notification,Log){var opts={debugjs:!0,id:0,url:"",hash:""},debug={},favoritesModule={setUrl:function(data,title){Notification.confirm(M.util.get_string("javascript:set_title","block_user_favorites"),'<input class="form-control" id="favorite-url" value="'+title+'">',M.util.get_string("javascript:yes","block_user_favorites"),M.util.get_string("javascript:no","block_user_favorites"),(function(){Ajax.call([{methodname:"block_user_favorites_set_url",args:{hash:data.hash,optional:{url:data.url},title:$("#favorite-url").val(),blockid:opts.id}}])[0].done((function(response){debug.log(response),favoritesModule.reload()})).fail(Notification.exception)}))},remove:function(data){Ajax.call([{methodname:"block_user_favorites_delete_url",args:{hash:data.hash,blockid:opts.id}}])[0].done((function(response){debug.log(response),favoritesModule.reload()})).fail(Notification.exception)},reload:function(){Ajax.call([{methodname:"block_user_favorites_content",args:{url:opts.url,blockid:opts.id}}])[0].done((function(response){debug.log(response),$(".block_user_favorites .content").html(response.content)})).fail(Notification.exception)},init:function(){$(".block_user_favorites").on("click","#block_user_favorites_set",(function(){Log.log("Set URL to favorites: "+window.location.href),favoritesModule.setUrl({hash:opts.hash,url:window.location.href},$("title").text())})).on("click","#block_user_favorites_delete",(function(){favoritesModule.remove({hash:opts.hash})})).on("click",".fa-remove",(function(){favoritesModule.remove($(this).closest("li").data())})).on("click",".fa-edit",(function(){var data=$(this).parent().parent().data();data.url=null,favoritesModule.setUrl(data,$(this).parent().parent().find("a").text())}))}};return{initialise:function(args){!function(options){var key,vartype;for(key in opts)opts.hasOwnProperty(key)&&options.hasOwnProperty(key)&&("boolean"===(vartype=_typeof(opts[key]))?opts[key]=Boolean(options[key]):"number"===vartype?opts[key]=Number(options[key]):"string"===vartype&&(opts[key]=String(options[key])))}(args),function(isenabled){if(isenabled)for(var m in console)"function"==typeof console[m]&&(debug[m]=console[m].bind(window.console));else for(var i in console)"function"==typeof console[i]&&(debug[i]=function(){})}(opts.debugjs),$.noConflict(),$(document).ready((function(){debug.log("Block User Favorites v1.2"),favoritesModule.init()}))}}}));

//# sourceMappingURL=favorites.min.js.map